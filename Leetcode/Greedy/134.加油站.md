# 134. 加油站

在一条环路上有 n 个加油站，其中第 i 个加油站有汽油 gas[i] 升。

你有一辆油箱容量无限的的汽车，从第 i 个加油站开往第 i+1 个加油站需要消耗汽油 cost[i] 升。你从其中的一个加油站出发，开始时油箱为空。

给定两个整数数组 gas 和 cost ，如果你可以按顺序绕环路行驶一周，则返回出发时加油站的编号，否则返回 -1 。如果存在解，则 保证 它是 唯一 的。

## Answer

1. 总油量与总消耗量比较：如果所有加油站的总油量 (totalSum) 小于总的消耗量，那么不可能绕环路行驶一周，因此返回 -1。只有当总油量不小于总消耗量时，才可能存在一个有效的起始加油站。

2. 重置起始加油站：在遍历过程中，如果从当前起始加油站 cur 出发的过程中，油量变为负数（curSum < 0），这意味着 cur 不能作为有效的起始加油站。因此，算法将下一个加油站设为新的起始加油站，并重置当前油量 (curSum = 0)。

3. 确保从新起点出发可行：为什么新的起始加油站 cur 可以确保汽车在经过所有加油站后油量不会耗尽？这是因为，当我们遇到油量不足以到达下一个加油站的情况时，我们排除了当前的起始加油站，并重置了 curSum。由于总油量大于等于总消耗量，被排除的起始加油站之前的累计油量（负值）将由其后面的加油站的油量（正值）补偿。因此，最终找到的 cur 将是一个从中出发，汽车能够在不耗尽油量的情况下绕环路行驶一周的加油站。

```go
func canCompleteCircuit(gas []int, cost []int) int {
    totalSum := 0
    curSum := 0
    cur := 0
    for i:=0; i < len(gas); i++ {
        totalSum += gas[i] - cost[i]
        curSum += gas[i] - cost[i]
        if curSum < 0 {
            cur = i + 1
            curSum = 0
        }
    }
    if totalSum < 0 {
        return -1
    }
    return cur
}
```