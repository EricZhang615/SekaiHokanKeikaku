# 基于视觉传感器的室内定位和三维重建展示

本系统使用基于视觉传感器的SLAM（即时定位与地图重建）技术，实现对仿真环境中的车辆进行即时定位，并将定位位置与三维重建模型进行结合，从而展示车辆在仿真环境中的位置。

系统分为车辆定位系统、三维重建展示系统两个子系统。其中定位系统包括车载相机集群模块、定位中心模块；三维重建展示系统包括环境感知模块、三维合成模块、前端展示模块。

## 车辆定位系统

1. 车载相机集群模块
    
    车载相机集群模块是由所有的车载相机所构成的。所有的车辆上均配备有RGBD相机，车辆通过将车载相机的画面与预先构建的特征地图进行比对，从而对自身位置进行定位。车辆实时将当前位姿信息传输给定位中心模块。

2. 定位中心模块

    定位中心在定位前事先使用RGBD相机对环境进行采集，从而生成用于SLAM系统定位的特征地图。之后将特征地图下发给车载相机集群模块用于各个车辆进行定位。定位中心将车载相机集群返回的位姿信息整合后发布到三维重建展示系统。

## 三维重建展示系统

1. 环境感知模块

    环境感知模块由布设在环境中的若干固定相机构成。固定相机的位置和视角等参数经过了预先标定，环境感知模块预先保存有环境中所包含的货物的视觉特征信息，因此环境感知模块能够从固定相机的画面中识别出场景中的货物的位置信息，并将物品种类信息与对应的位置信息发送至三维合成模块。

2. 三维合成模块

    三维合成模块预先保存有环境中所包含的货物的三维模型。三维合成模块在接收到来自环境感知模块的物品信息与位置信息后，通过三维引擎实时在环境的三维模型中重建出对应的货物，从而实现对环境的三维重建。

3. 前端展示模块

    前端展示模块接收来自车辆定位系统的车辆位姿信息后，将其与三维合成模块所生成的三维重建模型进行结合，从而在三维重建环境中展示当前车辆所处的位置。


