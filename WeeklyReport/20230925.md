# Deep Reinforcement Learning for Resource Demand Prediction and Virtual Function Network Migration in Digital Twin Network

> 数字孪生网络中的资源需求预测和虚拟功能网络迁移的深度强化学习

IoTJ JCR-Q1 CAS-Q1

https://doi.org/10.1109/JIOT.2023.3281678

作者提出了一个新的范式——数字孪生（DT），用于在IoT网络中创建物理对象的虚拟副本，然后，作者将问题形式化为一个数学模型，旨在最小化能耗。提出了一种基于联邦学习的双向门控循环单元（Bi-GRU）算法来预测资源需求。根据预测结果，利用深度强化学习（DRL）算法来进行VNF迁移的决策。仿真结果表明，提出的方法可以有效减少需要迁移的VNF数量，并节约数字孪生IoT网络的能耗。

**文章提出的问题：** 时变流量下VNF的迁移问题，最小化VNF迁移后网络的能源消耗和资源方差，以节省能源并使DT网络更能响应流量变化

**优化目标：** 最小化VNF迁移后能源消耗、提升负载均衡（最小化资源消耗方差）

**文章关注的重点：** 资源需求预测、迁移算法

**文章提出的方法：** 循环神经网络 + 联邦学习预测VNF资源需求，指导 DRL 给出迁移方案

## VNF 资源需求预测： Bi-GRU 结合联邦学习

Bi-GRU：双向 GRU

GRU：LSTM 的简化版本

为什么引入联邦学习：

* 每一个 GRU 用于预测单一的 VNF 的资源需求，对于 SFC 的应用情况来说，缺失了 VNF 之间 SFC 链的信息；因此可以通过联邦学习引入相关性
* 大量的 GRU 运算需求提高了对控制中心的工作量的要求
* 保证数据的隐私性

先使用 VNF 的历史资源需求数据离线训练模型，算法执行时同时用真实数据在线训练模型；使用联邦平均的方法处理每个子 GRU 的参数

## VNF 迁移策略生成： DPPO 求解 MDP 模型

PPO： OpenAI 默认 DRL 实现

状态空间：物理节点资源、物理链路状态、VNF 资源需求

动作空间：每个 VNF 的迁移目标节点

奖励：归一化负载均衡度与能耗加权平均值


## 想法

用LSTM的结构并行预测SFC上每个VNF的负载

引入SFC动态到达和动态离去

迁移策略考虑避免频繁迁移